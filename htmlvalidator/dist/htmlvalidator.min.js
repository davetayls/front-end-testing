(function(c){var d,b,l,k;if(typeof c.java!=="undefined")b=c.java,l=b.io.File,k=b.lang.System;var f={version:"@SJS_VERSION",fileSeparator:k?k.getProperty("file.separator"):"\\",arguments:function(){if(!d)if(b)d=new f.Args(c.arguments,"::");else if(ActiveXObject){var a=[],e;for(e=0;e<c.WSH.Arguments.length;e+=1)a.push(c.WSH.Arguments.Item(e));d=new f.Args(a,"::")}return d},file:function(a){return new f.io.File(a)},get:function(a){if(b)return readUrl(a)},load:function(a){if(typeof load!=="undefined")load(a);
else if(typeof ActiveXObject!=="undefined")eval((new ActiveXObject("Scripting.FileSystemObject")).OpenTextFile(a,1).ReadAll());else throw"sjs is not compatible with this JavaScript engine";},print:function(a){typeof print!=="undefined"?print(a):c.WSH&&c.WSH.Echo(a)},workingDir:function(){if(b)return environment["user.dir"];else if(WScript)return WScript.CreateObject("WScript.Shell").CurrentDirectory}};c.sjs=f;f.Args=function(a,e){this.arguments={};var c=a.length,b;for(b=0;b<c;b+=1){var g=a[b].split(e),
d=this.arguments[g[0]];d||(d=new f.Arg(g[0]));d.addValue(g[1]);this.arguments[g[0]]||(this.arguments[g[0]]=d)}};f.Args.prototype={each:function(a){for(var b in this.arguments)if(a.call(this.arguments[b])===!1)break;return this}};f.Arg=function(a){this.key=a;this.values=[]};f.Arg.prototype={addValue:function(a){this.values.push(a)},join:function(a){return this.values.join(a)}};f.io={};f.io.File=function(a){if(b)this.javaFile=new l(a);this.path=a;this.contents=this.readText()};f.io.File.prototype={contents:null,
path:"",append:function(a,b){if(typeof a==="number")return this.insertLine(a===0?0:a-1,b);else this.contents+=a;return this},clear:function(){this.contents="";return this},insertLine:function(a,b){var c=this.readText().split("\n");c.splice(a,0,b);this.contents=c.join("\n");return this},prepend:function(a){this.contents=a+this.contents;return this},readText:function(a){if(!this.contents||a)if(this.contents="",b){a=new b.io.FileReader(this.javaFile);for(a=new b.io.BufferedReader(a);line=a.readLine();)this.contents+=
line+"\n"}else if(ActiveXObject)this.contents=(new ActiveXObject("Scripting.FileSystemObject")).OpenTextFile(this.path,1).ReadAll();return this.contents},save:function(a){if(typeof a==="string")this.path=a;if(b){if(typeof a==="string")this.javaFile=b.io.File(a);a=new b.io.FileWriter(this.javaFile,!1);a=new b.io.BufferedWriter(a);a.write(this.contents);a.close()}else ActiveXObject&&(a=(new ActiveXObject("Scripting.FileSystemObject")).OpenTextFile(this.path,2,!0),a.Write(this.contents),a.Close());return this},
text:function(a){this.contents=a;return this}}})(this);
(function(){var c=sjs.arguments().arguments.url.values[0],d="failed",b=["Legacy doctype"],d=function(c,d){var f=[],a,e,i,h,g;for(a=0;a<d.length;a++){g=!1;i=d[a];h=i.message;for(e=0;e<b.length;e++){var j=b[e];typeof j==="string"?h.indexOf(j)>=0&&(g=!0):j instanceof RegExp?j.test(h)&&(g=!0):typeof j==="function"&&(g=j.call(i,i))}g||(e=c,h=i,g=h.message.replace(RegExp(String.fromCharCode(226,8364,339),"g"),'"').replace(RegExp(String.fromCharCode(226,8364,65533),"g"),'"'),sjs.print(e+"|"+h.lastLine+"| "+
g),e=h.message.charCodeAt(19),h=String.fromCharCode(e),sjs.print(e+" "+h),f.push(i))}return f};if(c=sjs.get("http://testing.local:8888/?level=error&out=json&callback=setResult&doc=${url}".replace("${url}",c)))if(eval(c),d=d(c.url,c.messages),d=d.length===0?"passed":"failed",c="Validation for "+c.url+" has "+d,d==="failed")throw c;})();
